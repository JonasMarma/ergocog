<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    
    <link href="/static/fontawesome/css/all.css" rel="stylesheet">
</head>

<body>

    <nav class="navbar navbar-expand-lg bg-light">

        <div class="container-fluid">

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02"
                aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="artigos.html">
                            <h2>
                                <span class="badge bg-secondary">Artigos</span>
                            </h2>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">
                            <h2>
                                <span class="badge bg-secondary">Quiz</span>
                            </h2>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="sobre.html">
                            <h2>
                                <span class="badge bg-secondary">Sobre</span>
                            </h2>
                        </a>
                    </li>

                </ul>

                <a class="navbar-brand" href="index.html">Nome do Site Aqui</a>

            </div>

        </div>

    </nav>

    <div class="container">

        <br>

        <div class="row" id="divquestoes">

            <div class="col-12 text-center">

                <h2>Quiz - Será que você corre o risco de ter burnout?</h2>

                <br>

                <div class="progress">
                    <div
                        class="progress-bar progress-bar-striped progress-bar-animated"
                        id="progresso"
                        role="progressbar"
                        aria-label="Example with label"
                        style="width: 4%;"
                        aria-valuemin="0"
                        aria-valuemax="100">
                        1/21
                    </div>
                </div>

                <br>

                <h4 id="enunciado">1) Tenho problemas de sono, insônia e/ou não me sinto descansado(a) após uma noite de sono.</h4>

                <div class="row my-1">
                    <input type="radio" class="btn-check" name="options" id="btn0" autocomplete="off" onchange="clickRadio();">
                    <label class="btn btn-outline-primary" for="btn0">Nunca</label>
                </div>

                <div class="row my-1">
                    <input type="radio" class="btn-check" name="options" id="btn1" autocomplete="off" onchange="clickRadio();">
                    <label class="btn btn-outline-primary" for="btn1">Algumas vezes no ano ou menos</label>
                </div>

                <div class="row my-1">
                    <input type="radio" class="btn-check" name="options" id="btn2" autocomplete="off" onchange="clickRadio();">
                    <label class="btn btn-outline-primary" for="btn2">1x ao mês ou menos</label>
                </div>

                <div class="row my-1">
                    <input type="radio" class="btn-check" name="options" id="btn3" autocomplete="off" onchange="clickRadio();">
                    <label class="btn btn-outline-primary" for="btn3">Algumas vezes no mês</label>
                </div>

                <div class="row my-1">
                    <input type="radio" class="btn-check" name="options" id="btn4" autocomplete="off" onchange="clickRadio();">
                    <label class="btn btn-outline-primary" for="btn4">Semanalmente</label>
                </div>

                <div class="row my-1">
                    <input type="radio" class="btn-check" name="options" id="btn5" autocomplete="off" onchange="clickRadio();">
                    <label class="btn btn-outline-primary" for="btn5">Algumas vezes na semana</label>
                </div>

                <div class="row my-1">
                    <input type="radio" class="btn-check" name="options" id="btn6" autocomplete="off" onchange="clickRadio();">
                    <label class="btn btn-outline-primary" for="btn6">Todos os dias</label>
                </div>

                <button type="button" id="ant" class="btn btn-lg btn-success" onclick="anterior()">Anterior</button>
                <button type="button" id="prox" class="btn btn-lg btn-success" onclick="proxima()">Próximo</button>

            </div>

        </div>

        <div id="divresultado" class="container">
            <div class="wrapper bg-white rounded">
        
                <div class="content">
                    <p id="titulo" class="text-justify h5 pb-2 font-weight-bold">Titulo</p>
                    <p id="texto" class="text-justify">texto</p>
                </div>

                <p>Leia nossos artigos!!! :)</p>

                <p>Colocar mais alguma coisa aqui, achei muito vazio kkk</p>

                <button type="button" id="ant" class="btn btn-lg btn-success" onclick="inicio()">Revisar respostas</button>
                
            </div>
        </div>

    </div>

</body>

<script>

    document.getElementById("ant").style.visibility = "hidden";
    document.getElementById("prox").style.visibility = "hidden";
    
    document.getElementById("divresultado").style.display = "none";

    const enunciados = ["1) Tenho problemas de sono, insônia e/ou não me sinto descansado(a) após uma noite de sono.",
        "2) Me sinto emocionalmente e fisicamente exausto(a).",
        "3) Estou sofrendo infecções, inflamações e dores em geral.",
        "4) Sinto que não estou entregando ou realizando o suficiente.",
        "5) Estou frustrado(a) com os resultados do meu trabalho.",
        "6) Sinto-me muito pressionado pelas expectativas dos outros sobre mim.",
        "7) De alguma forma, não tenho me sentido eu mesmo(a).",
        "8) Me desconectei das coisas que mais gosto de fazer e que me dão prazer.",
        "9) Sinto que preciso abrir mão dos meus valores ou da minha identidade para poder chegar aonde quero.",
        "10) Estou mais devagar e menos eficiente do que o normal.",
        "11) Tenho esquecido das coisas com facilidade.",
        "12) Me sinto preso(a) em uma rotina caótica, não tenho controle sobre as horas do meu dia.",
        "13) Tenho me isolado de outras pessoas, especialmente das mais próximas de mim.",
        "14) Me sinto sugado(a) quando preciso trabalhar em equipe ou rodeada de pessoas.",
        "15) Não tenho energia/tempo para estar com a minha família e amigos.",
        "16) Tenho me sentido com pavio curto, mais irritadiço(a) do que o normal.",
        "17) Estou cético(a) quando ao meu trabalho, meus colegas/cliente/indústria.",
        "18) Preciso me distrair com álcool, drogas, comida, compras, TV, redes sociais ou outro vício que eu sei que não me faz bem.",
        "19) Sinto que o meu trabalho não faz diferença nenhuma.",
        "20) Não enxergo o porquê de estar fazendo o que faço.",
        "21) Não sei para onde estou indo na minha vida/no meu trabalho."
    ];

    let pergunta = 0;

    let respostas = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];

    function atualizarBarra() {
        
        let respondidas = 0;

        for (const r of respostas) {
            if (r >= 0) {
                respondidas++;
            }
        }

        let barra = document.getElementById("progresso");
        
        barra.style = "width: " + Math.trunc(100*(respondidas+1)/21) + "%;";
        barra.innerHTML = respondidas+1 + "/21";
    }

    function preencherMemoria() {
        if (respostas[pergunta] != -1) {
            let btn = document.getElementById("btn" + respostas[pergunta]);
            btn.checked = true;

            document.getElementById("prox").style.visibility = "visible";
        }
    }

    function inicio() {
        document.getElementById("divquestoes").style.display = "block";
        document.getElementById("divresultado").style.display = "none";

        pergunta = 1;
        anterior();
    }

    function anterior() {
        pergunta--;

        document.getElementById("enunciado").innerHTML = enunciados[pergunta];

        if (pergunta == 0) {
            document.getElementById("ant").style.visibility = "hidden";
        }

        preencherMemoria()
    }

    function registrarPonto() {
        var check0 = document.getElementById("btn0").checked;
        var check1 = document.getElementById("btn1").checked;
        var check2 = document.getElementById("btn2").checked;
        var check3 = document.getElementById("btn3").checked;
        var check4 = document.getElementById("btn4").checked;
        var check5 = document.getElementById("btn5").checked;
        var check6 = document.getElementById("btn6").checked;

        apagarBotoes();

        if (check0) {
            respostas[pergunta] = 0;
        } else if (check1) {
            respostas[pergunta] = 1;
        } else if (check2) {
            respostas[pergunta] = 2;
        } else if (check3) {
            respostas[pergunta] = 3;
        } else if (check4) {
            respostas[pergunta] = 4;
        } else if (check5) {
            respostas[pergunta] = 5;
        } else if (check6) {
            respostas[pergunta] = 6;
        }
    }

    function clickRadio() {

        registrarPonto()

        document.getElementById("ant").style.visibility = "visible";
        document.getElementById("prox").style.visibility = "visible";

        if (pergunta == 0) {
            document.getElementById("ant").style.visibility = "hidden";
        }
    }

    function apagarBotoes() {
        document.getElementById("btn0").checked = false;
        document.getElementById("btn1").checked = false;
        document.getElementById("btn2").checked = false;
        document.getElementById("btn3").checked = false;
        document.getElementById("btn4").checked = false;
        document.getElementById("btn5").checked = false;
        document.getElementById("btn6").checked = false;

        document.getElementById("prox").style.visibility = "hidden";
    }

    function proxima() {

        pergunta++;

        atualizarBarra();

        apagarBotoes();

        preencherMemoria();

        document.getElementById("ant").style.visibility = "visible";

        // Finalizar as perguntas preencher a div de resposta
        if (pergunta >= 20) {

            // Somar os pontos
            let pontos = respostas.reduce((partialSum, a) => partialSum + a, 0);;

            document.getElementById("divquestoes").style.display = "none";
            document.getElementById("divresultado").style.display = "block";

            // PONTOS
            if (pontos <= 20) {
                document.getElementById("titulo").innerHTML = "Nível 1";
                document.getElementById("texto").innerHTML = "Você está indo muito bem! Continue assim.";
            }
            else if (pontos <= 52) {
                document.getElementById("titulo").innerHTML = "Nível 2";
                document.getElementById("texto").innerHTML = "No geral, bons indicadores, mas alguns pontos podem melhorar ainda mais.";
            }
            else if (pontos <= 72) {
                document.getElementById("titulo").innerHTML = "Nível 3";
                document.getElementById("texto").innerHTML = "Você está na média - procure melhorar esses indicadores para reduzir riscos.";
            }
            else if (pontos <= 104) {
                document.getElementById("titulo").innerHTML = "Nível 4";
                document.getElementById("texto").innerHTML = "Seus indicadores estão um pouco preocupantes. Cuidado!";
            }
            else {
                document.getElementById("titulo").innerHTML = "Nível 5";
                document.getElementById("texto").innerHTML = "Você precisa do apoio de um profissional de saúde1 Suas respostas indicam potencial de estresse crônico ou até burnout.";
            }

        }

        document.getElementById("enunciado").innerHTML = enunciados[pergunta];
    }

</script>

</html>